/* CustomerProjects.module.css — Consistent with global index.css */

/* ── Layout ──────────────────────────────────────── */

.mainContent {
  background-color: var(--background);
  min-height: calc(100vh - 60px);
  padding: var(--spacing-sm) 0 var(--spacing-xl);
  display: flex;
  justify-content: center;
  align-items: flex-start;
  font-family: var(--font-family);
}

.container {
  max-width: 1400px;
  width: 100%;
  margin: 0 auto;
  padding: var(--spacing-lg);
  background: var(--surface);
  border-radius: var(--radius-lg);
  box-shadow: 0 4px 20px var(--shadow);
  position: relative;
}

/* ── Top Nav ─────────────────────────────────────── */

.topNav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-lg);
  gap: var(--spacing-md);
  flex-wrap: wrap;
}

.backBtn {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-lg);
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: var(--surface);
  border: none;
  border-radius: var(--radius-sm);
  font-family: var(--font-family);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-bold);
  cursor: pointer;
  transition: all 0.2s ease;
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

.backBtn:hover {
  background: linear-gradient(135deg, var(--primary-dark), var(--primary));
  transform: translateY(-2px);
  box-shadow: 0 4px 12px var(--shadow-md);
}

.viewToggle {
  display: flex;
  background: var(--background);
  border: 1px solid var(--border-strong);
  border-radius: var(--radius-sm);
  overflow: hidden;
}

.viewBtn {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  padding: var(--spacing-sm) var(--spacing-md);
  background: none;
  border: none;
  color: var(--text-light);
  font-family: var(--font-family);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.2s ease;
}

.viewBtnActive {
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: var(--surface);
  font-weight: var(--font-weight-bold);
}

/* ── Customer Hero ──────────────────────────────── */

.customerHero {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-lg);
  background: linear-gradient(135deg, var(--background) 0%, var(--surface) 100%);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg) var(--spacing-xl);
  margin-bottom: var(--spacing-lg);
  position: relative;
  overflow: hidden;
}

/* Subtle top accent line */
.customerHero::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
  border-radius: var(--radius-lg) var(--radius-lg) 0 0;
}

.heroAvatar {
  width: 64px;
  height: 64px;
  min-width: 64px;
  border-radius: var(--radius-lg);
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-extrabold);
  color: var(--surface);
  box-shadow: 0 6px 16px var(--shadow-md);
  letter-spacing: -0.02em;
}

.heroInfo {
  flex: 1;
  min-width: 0;
}

.heroName {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-extrabold);
  color: var(--primary);
  margin: 0 0 var(--spacing-sm);
  letter-spacing: -0.01em;
  line-height: 1.1;
}

.heroMeta {
  display: flex;
  flex-wrap: wrap;
  gap: 0.35rem 1.25rem;
  margin-bottom: var(--spacing-xs);
}

.heroMeta span {
  display: flex;
  align-items: center;
  gap: 0.35rem;
  font-size: var(--font-size-sm);
  color: var(--text-light);
}

.heroMeta svg {
  font-size: 0.65rem;
  color: var(--secondary);
}

.heroNotes {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  font-size: var(--font-size-sm);
  color: var(--warning);
  margin: 0;
  font-style: italic;
}

.heroProjectCount {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.1rem;
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  border-radius: var(--radius-md);
  padding: var(--spacing-md) var(--spacing-lg);
  min-width: 80px;
  box-shadow: 0 4px 12px var(--shadow);
}

.countNum {
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-extrabold);
  color: var(--surface);
  line-height: 1;
}

.countLabel {
  font-size: var(--font-size-xs);
  color: rgba(255,255,255,0.7);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-weight: var(--font-weight-medium);
}

/* ── Stats Dashboard ─────────────────────────────── */

.statsDashboard {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-lg);
}

.statCard {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  background: var(--background);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  padding: var(--spacing-sm) var(--spacing-md);
  flex: 1;
  min-width: 140px;
  transition: all 0.2s ease;
  box-shadow: 0 2px 6px var(--shadow);
}

.statCard:hover {
  border-color: var(--border-strong);
  box-shadow: 0 4px 12px var(--shadow-md);
  transform: translateY(-1px);
}

.statIcon {
  width: 36px;
  height: 36px;
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-sm);
  flex-shrink: 0;
}

/* Icon variant colors using semantic vars */
.statIconPrimary  { background: rgba(44,62,80,0.1);    color: var(--primary); }
.statIconSuccess  { background: var(--success-bg);      color: var(--success); }
.statIconError    { background: var(--error-bg);        color: var(--error); }
.statIconWarning  { background: var(--warning-bg);      color: var(--warning); }
.statIconInfo     { background: var(--info-bg);         color: var(--info); }
.statIconMuted    { background: var(--muted-bg);        color: var(--muted); }
.statIconSecondary { background: rgba(52,152,219,0.1); color: var(--secondary); }

.statBody {
  display: flex;
  flex-direction: column;
  gap: 0.1rem;
  min-width: 0;
}

.statLabel {
  font-size: var(--font-size-xs);
  color: var(--text-light);
  text-transform: uppercase;
  letter-spacing: 0.06em;
  font-weight: var(--font-weight-bold);
  white-space: nowrap;
}

.statValue {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-extrabold);
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ── Section Header ──────────────────────────────── */

.sectionHeader {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-md);
}

.sectionHeader svg {
  color: var(--secondary);
  font-size: var(--font-size-sm);
}

.sectionHeader h2 {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-bold);
  color: var(--text-light);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin: 0;
  white-space: nowrap;
}

.sectionLine {
  flex: 1;
  height: 1px;
  background: var(--border);
}

/* ── Table ───────────────────────────────────────── */

.tableWrapper {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: 0 2px 8px var(--shadow);
}

.table {
  width: 100%;
  border-collapse: collapse;
}

.table th {
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  padding: var(--spacing-md) var(--spacing-md);
  text-align: left;
  font-family: var(--font-family);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-bold);
  color: var(--surface);
  text-transform: uppercase;
  letter-spacing: 0.07em;
  border-bottom: 2px solid var(--primary-dark);
  white-space: nowrap;
  position: sticky;
  top: 0;
  z-index: 10;
}

.table th svg {
  margin-right: 0.3rem;
  font-size: 0.6rem;
  opacity: 0.8;
}

.tableRow {
  transition: background 0.15s ease;
}

.tableRow:hover {
  background: var(--background);
}

.tableRow td {
  padding: var(--spacing-sm) var(--spacing-md);
  border-bottom: 1px solid var(--border);
  font-size: var(--font-size-sm);
  color: var(--text-light);
  vertical-align: middle;
}

.rowExpanded td {
  background: rgba(44,62,80,0.03);
  border-bottom-color: var(--border-strong);
}

.projectNameCell {
  font-weight: var(--font-weight-bold) !important;
  color: var(--primary) !important;
  font-size: var(--font-size-sm) !important;
}

.timelineCell { white-space: nowrap; }

.timelineCell div {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
}

.dateFrom, .dateTo { font-size: var(--font-size-xs); }
.dateArrow {
  color: var(--text-light);
  font-size: var(--font-size-xs);
}

.statusChip {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.25rem 0.65rem;
  border-radius: var(--radius-full);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-bold);
  white-space: nowrap;
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

.statusChip.completed  { background: var(--success-bg);  color: var(--success);  border: 1px solid var(--success-border); }
.statusChip.overdue    { background: var(--error-bg);    color: var(--error);    border: 1px solid var(--error-border); }
.statusChip.inprogress { background: var(--info-bg);     color: var(--info);     border: 1px solid var(--info-border); }
.statusChip.pending    { background: var(--warning-bg);  color: var(--warning);  border: 1px solid var(--warning-border); }
.statusChip.unknown    { background: var(--muted-bg);    color: var(--muted);    border: 1px solid var(--muted-border); }

.statusChip svg { font-size: 0.6rem; }

.moneyCell {
  font-weight: var(--font-weight-bold) !important;
  font-size: var(--font-size-sm) !important;
  text-align: right;
  font-variant-numeric: tabular-nums;
  color: var(--text);
}

.moneyCellPaid      { color: var(--success) !important; }
.moneyCellDue       { color: var(--error) !important; }
.moneyCellSettled   { color: var(--success) !important; }

.progressCell { min-width: 110px; }

.miniProgressTrack {
  height: 6px;
  background: var(--border);
  border-radius: var(--radius-full);
  overflow: hidden;
  margin-bottom: 0.2rem;
}

.miniProgressFill {
  height: 100%;
  border-radius: var(--radius-full);
  transition: width 0.5s ease;
}

.miniProgressLow  { background: linear-gradient(90deg, var(--warning), var(--warning-dark)); }
.miniProgressMid  { background: linear-gradient(90deg, var(--secondary), var(--secondary-dark)); }
.miniProgressHigh { background: linear-gradient(90deg, var(--success), var(--success-dark)); }

.progressLabel {
  font-size: var(--font-size-xs);
  color: var(--text-light);
}

.actionsCell {
  white-space: nowrap;
  text-align: right;
}

.expandBtn {
  background: var(--background);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  width: 28px;
  height: 28px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--text-light);
  font-size: 0.65rem;
  transition: all 0.15s ease;
}

.expandBtn:hover {
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: var(--surface);
  border-color: var(--primary-dark);
}

/* Row action buttons */
.actionBtn {
  width: 30px;
  height: 30px;
  border: none;
  border-radius: var(--radius-sm);
  cursor: pointer;
  font-size: var(--font-size-xs);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-left: var(--spacing-xs);
  transition: all 0.15s ease;
  color: var(--surface);
}

.actionBtn:hover {
  transform: translateY(-1px);
  box-shadow: 0 3px 8px var(--shadow);
}

.viewBtnAction     { background: var(--primary); }
.viewBtnAction:hover { background: var(--primary-dark); }

.editBtnAction     { background: var(--success); }
.editBtnAction:hover { background: var(--success-dark); }

.downloadBtnAction { background: var(--secondary); }
.downloadBtnAction:hover { background: var(--secondary-dark); }

.deleteBtnAction {
  background: var(--error-bg);
  color: var(--error);
  border: 1px solid var(--error-border);
}
.deleteBtnAction:hover {
  background: var(--error);
  color: var(--surface);
}

/* Expanded detail row */
.detailRow td {
  padding: 0 !important;
  border-bottom: 1px solid var(--border-strong) !important;
  background: var(--background) !important;
}

.expandedContent {
  padding: var(--spacing-md) var(--spacing-lg);
  animation: expandIn 0.2s ease;
}

@keyframes expandIn {
  from { opacity: 0; transform: translateY(-4px); }
  to   { opacity: 1; transform: translateY(0); }
}

.expandedDetailsGrid {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-sm) var(--spacing-xl);
  margin-bottom: var(--spacing-md);
}

.expandedDetail {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-sm);
  font-size: var(--font-size-sm);
}

.expandedDetail svg {
  color: var(--secondary);
  font-size: 0.7rem;
  margin-top: 0.2rem;
  flex-shrink: 0;
}

.expandedLabel {
  display: block;
  font-size: var(--font-size-xs);
  color: var(--text-light);
  text-transform: uppercase;
  letter-spacing: 0.06em;
  font-weight: var(--font-weight-bold);
}

.expandedValue {
  display: block;
  color: var(--text);
  font-size: var(--font-size-sm);
}

/* Table footer */
.tableTotalsRow {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-md) var(--spacing-lg);
  background: var(--background);
  border-top: 2px solid var(--border-strong);
  font-size: var(--font-size-sm);
  color: var(--text-light);
  flex-wrap: wrap;
  gap: var(--spacing-sm);
}

.tableTotalsFinancials {
  display: flex;
  gap: var(--spacing-xl);
  font-size: var(--font-size-sm);
  color: var(--text-light);
  flex-wrap: wrap;
}

.tableTotalsFinancials strong {
  font-weight: var(--font-weight-extrabold);
  color: var(--text);
}

/* ── Cards Grid ──────────────────────────────────── */

.cardsGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
  gap: var(--spacing-md);
}

/* ── Empty State ─────────────────────────────────── */

.emptyState {
  text-align: center;
  padding: 5rem var(--spacing-xl);
  color: var(--text-light);
}

.emptyState svg {
  font-size: 3rem;
  margin-bottom: var(--spacing-md);
  opacity: 0.25;
  color: var(--primary);
}

.emptyState h2 {
  font-size: var(--font-size-xl);
  color: var(--text-light);
  margin-bottom: var(--spacing-sm);
  font-weight: var(--font-weight-bold);
}

.emptyState p {
  font-size: var(--font-size-sm);
  color: var(--text-light);
  opacity: 0.7;
}

/* ── Responsive ──────────────────────────────────── */

@media (max-width: 1024px) {
  .customerHero { padding: var(--spacing-md) var(--spacing-lg); }
  .tableTotalsFinancials { gap: var(--spacing-lg); }
}

@media (max-width: 768px) {
  .container { padding: var(--spacing-md); }

  .customerHero {
    flex-wrap: wrap;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
  }

  .heroName { font-size: var(--font-size-lg); }

  .statsDashboard { gap: var(--spacing-xs); }
  .statCard { min-width: 120px; }

  /* Hide less important table columns on small screens */
  .table th:nth-child(3),
  .table td:nth-child(3),
  .table th:nth-child(8),
  .table td:nth-child(8) { display: none; }

  .cardsGrid { grid-template-columns: 1fr; }

  .tableTotalsRow { flex-direction: column; align-items: flex-start; }
  .tableTotalsFinancials { flex-direction: column; gap: var(--spacing-xs); }
}

@media (max-width: 480px) {
  .topNav { flex-direction: column; align-items: flex-start; }

  /* Hide even more columns on very small screens */
  .table th:nth-child(6),
  .table td:nth-child(6) { display: none; }
}